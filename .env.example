# =============================================================================
# Mobius Chat - Environment Configuration
# =============================================================================
# Uses mobius-os-dev GCP project. See mobius-config/.env.example for full reference.
# =============================================================================

# -----------------------------------------------------------------------------
# GCP CREDENTIALS
# -----------------------------------------------------------------------------
# GOOGLE_APPLICATION_CREDENTIALS=credentials/mobiusos-new-090a058b63d9.json

# -----------------------------------------------------------------------------
# CLOUD SQL (34.135.72.145)
# -----------------------------------------------------------------------------
CHAT_RAG_DATABASE_URL=postgresql://postgres:MobiusDev123$@34.135.72.145:5432/mobius_chat

# -----------------------------------------------------------------------------
# REDIS (local dev = prod-like; cloud for VPN)
# -----------------------------------------------------------------------------
# Local: brew services start redis
QUEUE_TYPE=redis
REDIS_URL=redis://localhost:6379/0
# Cloud: REDIS_URL=redis://10.40.102.67:6379/0

# -----------------------------------------------------------------------------
# VERTEX AI
# -----------------------------------------------------------------------------
VERTEX_PROJECT_ID=mobius-os-dev
VERTEX_LOCATION=us-central1
VERTEX_MODEL=gemini-2.5-flash

# -----------------------------------------------------------------------------
# VERTEX AI VECTOR SEARCH
# -----------------------------------------------------------------------------
VERTEX_INDEX_ENDPOINT_ID=projects/mobius-os-dev/locations/us-central1/indexEndpoints/156370344679047168
VERTEX_DEPLOYED_INDEX_ID=mobius_chat_dev_stream

# -----------------------------------------------------------------------------
# RAG RETRIEVAL (optional)
# -----------------------------------------------------------------------------
# When set, chat uses mobius-rag-api for retrieval (BM25+vector → rerank → assemble).
# Uncomment when using mstart (starts mobius-rag-api on port 8030).
# RAG_API_URL=http://localhost:8030
# RAG_PATH=mobius

# -----------------------------------------------------------------------------
# DOC ASSEMBLY (optional) – Google search fallback when corpus confidence is low
# -----------------------------------------------------------------------------
# Uncomment when using mstart (starts mobius-skills/google-search on port 8004)
# CHAT_SKILLS_GOOGLE_SEARCH_URL=http://localhost:8004/search?

# -----------------------------------------------------------------------------
# SKILLS – Web scraper for tool agent (scrape URL requests)
# -----------------------------------------------------------------------------
# Uncomment when using mstart (starts mobius-skills/web-scraper on port 8002)
# CHAT_SKILLS_WEB_SCRAPER_URL=http://localhost:8002/scrape/review

# -----------------------------------------------------------------------------
# AUTH & DEBUG
# -----------------------------------------------------------------------------
MOBIUS_OS_AUTH_URL=http://localhost:5001
JWT_SECRET=dev-jwt-secret-change-in-production
CHAT_DEBUG_TRACE=1
CHAT_LIVE_STREAM=1
